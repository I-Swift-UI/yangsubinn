## 2ì£¼ì°¨ ì•„ì´í° ê¸°ë³¸ ë©”ëª¨ğŸ“
ê¸°ì¡´ ê¸€ ë³´ê¸° -> ìƒˆë¡œìš´ ê¸€ ì‘ì„± -> ìˆ˜ì •

![ezgif com-gif-maker - 2023-01-31T222525 318](https://user-images.githubusercontent.com/81167570/215772706-1dd6591f-bae4-425d-944d-3b5c480338fc.gif)


## Property Wrapper

### **ObservableObject**
- í´ë˜ìŠ¤ í”„ë¡œí† ì½œ
- ê´€ì°° ê°€ëŠ¥í•œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì¤Œ
- `objectWillChange.send()` ë¥¼ í†µí•´ ë³€ê²½ì‚¬í•­ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŒ

### @Published
- ObservableObject ê°ì²´ ë‚´ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì„ ì–¸
- ê°’ì´ ë³€ë™ë˜ì—ˆì„ë•Œ ë·°ì— ì¦‰ì‹œ ì•Œë ¤ì£¼ë„ë¡ í•˜ëŠ” í”„ë¡œí¼í‹° ë˜í¼
    - `objectWillChange.send()` ìë™ ì‹¤í–‰

### @EnvironmentObject
- ì—¬ëŸ¬ ë·°ì—ì„œ ê°™ì€ ë°ì´í„°ë¥¼ ê³µìœ í•˜ë©° ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” property wrapper
    - ì‹±ê¸€í„´ê³¼ ìœ ì‚¬
    - ìµœìƒìœ„ë·°(ContentView)ì— í• ë‹¹í•˜ë©´ ëª¨ë“  ë·°ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
    - ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìµœìƒìœ„ Appì—ì„œ **.environmentObject(_:)** ë©”ì„œë“œë¥¼ í†µí•´ ê°’ ë§¤ì¹­
    - ì‚¬ìš©ë  ë·°ì—ì„œ ë³€ìˆ˜ì— **@EnvironmentObject** ë¶™ì—¬ ì‚¬ìš©


    

ğŸ“ì•± ë‚´ì—ì„œ ì „ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•  ìš©ë„ë¡œ ìƒì„±í•œ dummyData
```swift
class MemoData: ObservableObject {
    @Published var dummyData: [Memo] = [
        Memo(id: 0, isLocked: true, editedDate: "ì˜¤ëŠ˜", fullContent: "ë©”ëª¨1\ní•˜ë‚˜ë‘˜ì…‹ë„·"),
        Memo(id: 1, isLocked: false, editedDate: "ì˜¤ëŠ˜", fullContent: "ë©”ëª¨2\ní•˜ë‚˜ë‘˜ì…‹ë„·ë‹¤ì„¯ì—¬ì„¯ì¼ê³±ì—¬ëŸì•„í™‰í•˜ë‚˜ë‘˜ì…‹ë„·ë‹¤ì„¯ì—¬ì„¯ì¼ê³±ì—¬ëŸì•„í™‰")]
}
```

1. MemoDataë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì•± ì „ë°˜ì—ì„œ ë³€í™”ì— ëŒ€ì‘í•´ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê´€ì°° ê°€ëŠ¥í•˜ë„ë¡ ObservableObject í”„ë¡œí† ì½œ ìƒì†
2. MemoData ë‚´ì— dummyDataë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ê°’ì´ ë³€í•˜ë©´ í•´ë‹¹ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë·°ì—ê²Œ ì „ë‹¬í•˜ê¸° ìœ„í•´ @Published ì„ ì–¸
3. ObservableObjectì¸ MemoDataë¥¼ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ ë·°ì˜ ìµœìƒìœ„ì¸ Appì— .environmentObject()ë¡œ ì„¤ì •
4. ì‚¬ìš©í•  ë·°ì—ì„œ @EnvironmentObjectë¡œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ ì ‘ê·¼

```swift
// MemoApp
@main
struct MemoApp: App {
    var body: some Scene {
        WindowGroup {
            let memo = MemoData()
            ContentView()
                .environmentObject(memo)
        }
    }
}

// ContentView
struct ContentView: View {    
    @EnvironmentObject var memoData: MemoData
		...
}

// MemoDetail
struct MemoDetail: View {
    @EnvironmentObject var memoData: MemoData
		...
}
```

### @State
- State(ìƒíƒœ)ê°€ ë³€í•˜ë©´ ë·°ë¥¼ ë‹¤ì‹œ ê·¸ë¦¼
    - **ë·° ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©**í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— private ì„ ì–¸
    - í•˜ìœ„ ë·°ë‚˜ ë‹¤ë¥¸ ë·°ì—ì„œ ì°¸ì¡°í•˜ê¸° ìœ„í•´ì„  @Binding í•„ìš”

### @FocusState
- TextFieldë‚˜ TextEditorì—ì„œ í‚¤ë³´ë“œ ì‚¬ìš©/í•´ì œë¥¼ ì¸ì‹í•´ì¤Œ
- í‚¤ë³´ë“œ ì˜¬ë¼ì˜´/ë‚´ë ¤ê° ìƒíƒœ ë³€í™”ì— ë”°ë¼ ë·° ì—…ë°ì´íŠ¸
- í‚¤ë³´ë“œë¥¼ ì˜¬ë¦¬ê±°ë‚˜ ë‚´ë¦´ ìˆ˜ ìˆìŒ



ğŸ“
1. State í”„ë¡œí¼í‹°ì™€ ë°”ì¸ë”©í•  ë•ŒëŠ” ë³€ìˆ˜ ì•ì— `$` ì„ ì–¸
2. State í”„ë¡œí¼í‹°ì— í• ë‹¹ëœ ê°’ì„ ê·¸ëƒ¥ ì‚¬ìš©í•˜ê³ ì í• ë•ŒëŠ” `$`ë¥¼ ë¶™ì´ì§€ ì•Šê³  ì‚¬ìš©

```swift
struct MemoDetail: View {

		@State private var newMemo: Bool = false
    @State private var memoContent: String = ""
		@FocusState private var isFocused: Bool

		var body: some View {
        VStack {
            TextEditor(text: $memoContent)
                .focused($isFocused)
            Spacer()
            HStack {
                ...
                Button(action: {
                    memoContent = ""
                    newMemo = true
                    isFocused = true
                }, label: {
                    Image(systemName: "square.and.pencil").resizable().frame(width: 22, height: 22)
                })
            }
            ...
        }
        ...
        .toolbar {
            if $isFocused.wrappedValue {
                Button("ì™„ë£Œ") {
                    isFocused = false
                    if newMemo {
                        let new = Memo(id: (memoData.dummyData.last?.id ?? 0) + 1, isLocked: false, editedDate: "ì˜¤ëŠ˜", fullContent: memoContent)
                        memoData.dummyData.append(new)
                    } else {
                        memoData.dummyData[memoIndex].fullContent = memoContent
                    }
                }
            }
        }
        .onAppear {
            if memoIndex > -1 {
                memoContent = memoData.dummyData[memoIndex].fullContent
            } else {
                newMemo = true
            }
        }
    }
}
```

## .onAppear
UIKitì˜ viewLifeCycle ê³¼ ìœ ì‚¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œ

```swift
struct MemoDetail: View {

    @State private var memoContent: String = ""

		var body: some View {
        VStack {
            ...
        }
        .onAppear {
            // ë·°ê°€ ë‚˜íƒ€ë‚˜ê¸° ì „ì— í•˜ê³ ì‹¶ì€ ì‘ì—…
        }
    }
}
```
