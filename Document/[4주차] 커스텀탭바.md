## 4ì£¼ì°¨ ì»¤ìŠ¤í…€íƒ­ë°”

[ì „ì²´ ì½”ë“œ](https://github.com/I-Swift-UI/yangsubinn/tree/main/Pintereest/Pintereest)

![ezgif com-resize (3)](https://user-images.githubusercontent.com/81167570/220356754-ac985287-064d-48bf-9b96-facc8f7afa95.gif)

---
### ğŸ“ [3ì£¼ì°¨ í•€í„°ë ˆìŠ¤íŠ¸](https://github.com/I-Swift-UI/yangsubinn/blob/main/Document/%5B3%EC%A3%BC%EC%B0%A8%5D%20Pinterest.md?plain=1)ì—ì„œ ìˆ˜ì •ëœ ë¶€ë¶„

- ë¬´í•œìŠ¤í¬ë¡¤ êµ¬í˜„ ë°©ì‹ ìˆ˜ì •
- ItemModelì— id, isPinned ì¶”ê°€
    ```swift
    struct ItemModel: Hashable {
        let id: Int
        let imageUrl: String
        let title: String
        let isPinned: Bool
    }
    ```
    
- LayoutView ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •
    - EnvironmentObjectë¡œ ì„ ì–¸í•´ë‘” ë°ì´í„°ì— ë°”ë¡œ ì ‘ê·¼í•˜ì§€ ì•Šê³  ë°°ì—´ì„ ë°›ì•„ì„œ ë³´ì´ë„ë¡ ìˆ˜ì •
    ```swift
    struct LayoutView: View {
    
    		var imageData: [ItemModel]
    		...
    }
    
    struct BoardView: View {
        
        @EnvironmentObject var imageData: ImageData
        
        var body: some View {
            ScrollView {
                LayoutView(imageData: imageData.items, didReachEnd: $didReachEnd)
            }
        }
    }
    
    struct PinnedView: View {
        
        @EnvironmentObject var imageData: ImageData
        
        var body: some View {
            ScrollView {
                LayoutView(imageData: imageData.items.filter({ $0.isPinned }), didReachEnd: $didReachEnd)
            }
        }
    }
    ```
    

---

### ğŸ“ PinnedView(ì¢‹ì•„ìš”/ì¦ê²¨ì°¾ê¸°)

BoardViewì™€ ë™ì¼í•œ LayoutViewë¥¼ ì‚¬ìš©í•˜ë˜, 
ë„˜ê²¨ì£¼ëŠ” ë°ì´í„°ë°°ì—´ ìì²´ë¥¼ isPinned í•„í„°ë¥¼ ê±¸ì–´ì„œ ë„˜ê¸°ë„ë¡ í•¨
```
LayoutView(imageData: imageData.items.filter({ $0.isPinned }), didReachEnd: $didReachEnd)
```
<br>

### ğŸ“ Custom Tabbar
`@State` í”„ë¡œí¼í‹°ì™€ `ZStack` ì‚¬ìš©

<br>

**Tab**
enumí˜•ìœ¼ë¡œ tab ê´€ë¦¬
- `CaseIterable`: `allCases` ì‚¬ìš©ì„ ìœ„í•´ ì„ ì–¸
- `Identifiable`: `ForEach`ë¡œ `Tab.allCases`ë¥¼ ëŒë©° tabì„ ëª¨ë‘ ë„£ì–´ì£¼ëŠ”ë°, ì´ë•Œ `ForEach`ëŠ” `Identifiable`ì„ ì±„íƒí•œ ë°°ì—´ë§Œ ì‚¬ìš© ê°€ëŠ¥ (ê³ ìœ í•œ identifierì„ ê°–ëŠ” ë°°ì—´ë§Œ ëŒ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—)

```swift
enum Tab: Int, CaseIterable, Identifiable {
    case board = 0
    case pinned = 1
    
    var id: Self.RawValue {
        return self.rawValue
    }
    
    var image: String {
        switch self {
        case .board:
            return "list.bullet"
        case .pinned:
            return "square.and.pencil"
        }
    }
    
    var title: String {
        switch self {
        case .board:
            return "Board"
        case .pinned:
            return "Pinned"
        }
    }
}
```

<br>

**Tabbar**
- ì„ íƒëœ íƒ­ ì •ë³´ë¥¼ ê°–ëŠ” `selectedTab` í”„ë¡œí¼í‹°ë¥¼ `@State`ë¡œ ì„ ì–¸
- selectedTabì— ë”°ë¼ BoardView ë˜ëŠ” PinnedViewë¥¼ ë³´ì´ë„ë¡
- ZStackì„ ë‚´ì—ì„œ BoardView ë˜ëŠ” PinnedView ì™€ íƒ­ë°” ì—­í• ì„ í•  HStackì„ ë™ì¼í•œ ê³„ì¸µì— ìœ„ì¹˜ì‹œí‚´
- HStack ë‚´ì—ì„œ Tab.allCasesë¥¼ ForEachë¡œ ëŒë©° í•˜ë‚˜ì˜ íƒ­(ì•„ì´ì½˜+íƒ€ì´í‹€) ìƒì„± + íƒ­ë³„ë¡œ TapGestureë¥¼ í†µí•´ selectedTabì„ ë³€ê²½

```swift
@State private var selectedTab: Tab = .board

// MARK: - Custom Tabbar

ZStack(alignment: .bottom) {
    switch selectedTab {
    case .board:
        BoardView()
    case .pinned:
        PinnedView()
    }
    
		// íƒ­ ì „ì²´
    HStack {
        Spacer()
        ForEach(Tab.allCases) { item in
						// í•˜ë‚˜ì˜ íƒ­ (ì•„ì´ì½˜ + íƒ€ì´í‹€)
            VStack(spacing: 4) {
                Image(systemName: item.image)
                    .font(.system(size: 18, weight: .medium))
                    .foregroundColor(selectedTab == item ? Color(.systemBlue) : Color(.tertiaryLabel))
                Text(item.title)
                    .font(.system(size: 9, weight: .light))
                    .foregroundColor(selectedTab == item ? Color(.systemBlue) : Color(.tertiaryLabel))
            }
            .gesture(TapGesture().onEnded({ _ in
                selectedTab = item
            }))
            Spacer()
        }
    }
    .modifier(TabModifier())
}

struct TabModifier: ViewModifier {
    func body(content: Content) -> some View {
        content
            .frame(width: 300, height: 62)
            .background(Color.white)
            .cornerRadius(30)
            .shadow(color: Color(.systemGray4).opacity(0.6), radius: 4)
            .padding(EdgeInsets(top: 0, leading: 0, bottom: 1, trailing: 0))
    }
}
```
